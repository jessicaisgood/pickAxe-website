{"ast":null,"code":"var _jsxFileName = \"/Users/wangxi05104/Desktop/website/src/views/BindingCode.js\";\nimport React from 'react';\nimport styles from '../styles/binding-code.module.scss';\nimport 'antd/dist/antd.css';\nimport { Alert, Drawer, Icon, message, Spin } from 'antd';\nimport WebServerRestClient from \"../tools/WebServerRestClient\";\nimport UserComponent from \"../components/UserComponent\";\nexport default class BindingCode extends UserComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inviteCode: '',\n      invitedFlag: false,\n      password: '',\n      showMessageDialog: false\n    };\n  }\n\n  componentDidMount() {}\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleInputFocus(event) {\n    const target = event.target;\n\n    if (target.type === 'text') {\n      this.setState({\n        showMessageDialog: false\n      });\n    }\n  }\n\n  completeInvitation() {\n    if (this.state.invitedFlag) {\n      this.props.history.push('/payment');\n      return;\n    }\n\n    this.setState({\n      showMessageDialog: false,\n      invitedFlag: false\n    });\n    let inviteCode = this.state.inviteCode.trim();\n\n    if (inviteCode == '') {\n      this.setState({\n        showMessageDialog: true,\n        message: \"Please enter the invitation code\"\n      });\n      return false;\n    }\n\n    this.setState({\n      doing: true\n    });\n    new WebServerRestClient().POST('/user/invite', {\n      inviteCode: inviteCode,\n      userId: window.CurrentUser.userId\n    }).then(response => {\n      console.log(\"binding-eth-address response -> \" + JSON.stringify(response));\n      this.setState({\n        doing: false\n      });\n\n      if (response.code == 200) {\n        this.props.history.push('/payment');\n      } else if (response.code == 803) {\n        this.setState({\n          invitedFlag: true,\n          showMessageDialog: true,\n          message: '你已经被邀请啦，邀请码为：' + response.data + \"，邀请人无法更改哦！点击下一步继续？\"\n        });\n      } else if (response.code == 401 || response.code == 403) {\n        message.warn(\"未登录！\");\n        this.props.history.push('/login');\n      } else {\n        this.setState({\n          showMessageDialog: true,\n          message: response['msg']\n        });\n      }\n    }).catch(err => {\n      this.setState({\n        doing: false\n      });\n      message.error(\"Error: \" + err.message);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.form_center,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: styles.step_image,\n      src: require('../images/step-binding-code.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: styles.step_title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"\\u7ED1\\u5B9A\\u9080\\u8BF7\\u7801\\uFF1A\"), React.createElement(\"div\", {\n      className: styles.step_desc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"\\u60A8\\u7684\\u9080\\u8BF7\\u4EBA\\u662F\\u8C01\\uFF1F\\u8BF7\\u586B\\u5199Ta\\u7684\\u9080\\u8BF7\\u7801\\u3002\\u53EF\\u4EE5\\u5728\\u4ED6\\u7684\\u677E\\u9F20\\u52A0\\u901F\\u5668App\\u91CC\\u67E5\\u770B\"), React.createElement(\"div\", {\n      className: styles.link_code,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: styles.link_code,\n      onClick: () => this.setState({\n        showDrawer: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\u9080\\u8BF7\\u7801\\u5728\\u54EA\\u91CC\\uFF1F\")), React.createElement(\"input\", {\n      type: 'text',\n      name: 'inviteCode',\n      className: styles.form_input,\n      placeholder: '六位字母邀请码',\n      onFocus: this.handleInputFocus.bind(this),\n      onChange: this.handleInputChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), this.state.showMessageDialog ? React.createElement(\"div\", {\n      className: styles.message_box,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      message: this.state.message,\n      type: \"warning\",\n      closable: true,\n      onClose: () => {\n        this.setState({\n          showMessageDialog: false\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })) : null, React.createElement(\"div\", {\n      className: styles.form_button_row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: styles.form_button,\n      onClick: this.completeInvitation.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.doing ? React.createElement(Spin, {\n      indicator: React.createElement(Icon, {\n        type: \"loading\",\n        className: \"icon_loading\",\n        spin: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }) : '下一步')), React.createElement(\"div\", {\n      className: styles.link_back_div,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: styles.link_back,\n      onClick: () => this.props.history.push('/binding-wallet'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u8FD4\\u56DE\\u4E0A\\u4E00\\u6B65\"))), React.createElement(Drawer, {\n      getContainer: document.getElementById('root'),\n      placement: \"bottom\",\n      height: 375,\n      closable: false,\n      onClose: () => this.setState({\n        showDrawer: false\n      }),\n      visible: this.state.showDrawer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"drawer_close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"close\",\n      onClick: () => this.setState({\n        showDrawer: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: styles.where_code_desc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"1. \\u8BA9\\u9080\\u8BF7\\u4EBA\\u6253\\u5F00Ta\\u7684\\u677E\\u9F20\\u52A0\\u901F\\u5668App\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), \"2. \\u70B9\\u51FB\\u4E3B\\u83DC\\u5355Me/Invite Friends\\uFF0C\\u8FDB\\u5165\\u9080\\u8BF7\\u9875\\u9762\\u3002\\u9080\\u8BF7\\u7801\\u5C31\\u662F\\u9EC4\\u8272\\u7684\\u516D\\u4F4D\\u5B57\\u6BCD\\u3002\"), React.createElement(\"div\", {\n      className: styles.where_code_image_div,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: styles.where_code_image,\n      src: require('../images/invite-code-place.png'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/wangxi05104/Desktop/website/src/views/BindingCode.js"],"names":["React","styles","Alert","Drawer","Icon","message","Spin","WebServerRestClient","UserComponent","BindingCode","constructor","props","state","inviteCode","invitedFlag","password","showMessageDialog","componentDidMount","handleInputChange","event","target","value","type","checked","name","setState","handleInputFocus","completeInvitation","history","push","trim","doing","POST","userId","window","CurrentUser","then","response","console","log","JSON","stringify","code","data","warn","catch","err","error","render","container","form_center","step_image","require","step_title","step_desc","link_code","showDrawer","form_input","bind","message_box","form_button_row","form_button","link_back_div","link_back","document","getElementById","where_code_desc","where_code_image_div","where_code_image"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from '../styles/binding-code.module.scss';\nimport 'antd/dist/antd.css';\nimport {Alert, Drawer, Icon, message, Spin} from 'antd';\nimport WebServerRestClient from \"../tools/WebServerRestClient\";\nimport UserComponent from \"../components/UserComponent\";\n\nexport default class BindingCode extends UserComponent {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            inviteCode: '',\n            invitedFlag: false,\n            password: '',\n            showMessageDialog: false\n        }\n    }\n\n    componentDidMount() {\n\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n        this.setState({[name]: value});\n    }\n\n    handleInputFocus(event) {\n        const target = event.target;\n        if (target.type === 'text') {\n            this.setState({showMessageDialog: false});\n        }\n    }\n\n    completeInvitation() {\n        if (this.state.invitedFlag) {\n            this.props.history.push('/payment');\n            return;\n        }\n        this.setState({showMessageDialog: false, invitedFlag: false});\n        let inviteCode = this.state.inviteCode.trim();\n        if (inviteCode == '') {\n            this.setState({showMessageDialog: true, message: \"Please enter the invitation code\"});\n            return false;\n        }\n        this.setState({doing: true});\n        new WebServerRestClient().POST('/user/invite', {\n            inviteCode: inviteCode,\n            userId: window.CurrentUser.userId\n        }).then(response => {\n            console.log(\"binding-eth-address response -> \" + JSON.stringify(response));\n            this.setState({doing: false});\n            if (response.code == 200) {\n                this.props.history.push('/payment');\n            } else if (response.code == 803) {\n                this.setState({\n                    invitedFlag: true,\n                    showMessageDialog: true,\n                    message: '你已经被邀请啦，邀请码为：' + response.data + \"，邀请人无法更改哦！点击下一步继续？\"\n                });\n            } else if (response.code == 401 || response.code == 403) {\n                message.warn(\"未登录！\");\n                this.props.history.push('/login');\n            } else {\n                this.setState({showMessageDialog: true, message: response['msg']});\n            }\n        }).catch(err => {\n            this.setState({doing: false});\n            message.error(\"Error: \" + err.message);\n        });\n    }\n\n    render() {\n        return (\n            <div className={styles.container}>\n                <div className={styles.form_center}>\n                    <img className={styles.step_image} src={require('../images/step-binding-code.png')}/>\n                    <div className={styles.step_title}>绑定邀请码：</div>\n                    <div className={styles.step_desc}>您的邀请人是谁？请填写Ta的邀请码。可以在他的松鼠加速器App里查看</div>\n                    <div className={styles.link_code}>\n                        <a className={styles.link_code} onClick={()=>this.setState({showDrawer: true})}>邀请码在哪里？</a>\n                    </div>\n                    <input type={'text'} name={'inviteCode'} className={styles.form_input}\n                           placeholder={'六位字母邀请码'}\n                           onFocus={this.handleInputFocus.bind(this)}\n                           onChange={this.handleInputChange.bind(this)}/>\n                    {this.state.showMessageDialog ?\n                        <div className={styles.message_box}>\n                            <Alert message={this.state.message} type=\"warning\" closable={true}\n                                   onClose={() => {\n                                       this.setState({showMessageDialog: false})\n                                   }}/>\n                        </div>\n                        :\n                        null\n                    }\n                    <div className={styles.form_button_row}>\n                        <button className={styles.form_button} onClick={this.completeInvitation.bind(this)}>\n                            {this.state.doing ?\n                                <Spin indicator={<Icon type=\"loading\" className='icon_loading' spin/>}/>\n                                :\n                                '下一步'\n                            }\n                        </button>\n                    </div>\n                    <div className={styles.link_back_div}>\n                        <a className={styles.link_back} onClick={()=>this.props.history.push('/binding-wallet')}>返回上一步</a>\n                    </div>\n                </div>\n\n                <Drawer\n                    getContainer={document.getElementById('root')}\n                    placement=\"bottom\"\n                    height={375}\n                    closable={false}\n                    onClose={()=>this.setState({showDrawer: false})}\n                    visible={this.state.showDrawer}>\n                    <div className={styles.container}>\n                        <div className=\"drawer_close\">\n                            <Icon type=\"close\" onClick={()=>this.setState({showDrawer: false})}/>\n                        </div>\n                        <div className={styles.where_code_desc}>\n                            1. 让邀请人打开Ta的松鼠加速器App<br/>\n                            2. 点击主菜单Me/Invite Friends，进入邀请页面。邀请码就是黄色的六位字母。\n                        </div>\n                        <div className={styles.where_code_image_div}>\n                         <img className={styles.where_code_image} src={require('../images/invite-code-place.png')}/>\n                        </div>\n                    </div>\n                </Drawer>\n\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}